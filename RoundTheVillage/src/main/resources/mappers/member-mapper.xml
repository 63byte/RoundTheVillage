<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="memberMapper">

	<resultMap type="Member" id="member_rm">
		<id property="memberNo" column="MEM_NO"/>
		<result property="memberName" column="MEM_NAME"/>
		<result property="memberId" column="MEM_ID"/>
		<result property="memberPwd" column="MEM_PWD"/>
		<result property="memberNickname" column="MEM_NICKNAME"/>
		<result property="memberEmail" column="MEM_EMAIL"/>
		<result property="memberSignDt" column="MEM_SIGN_DT"/>
		<result property="memberIntrs" column="MEM_INTRS"/>
		<result property="memberAddr" column="MEM_ADDR"/>
		<result property="memberGrade" column="MEM_GRADE"/>
		<result property="memberType" column="MEM_TYPE"/>
		<result property="memberSecessionFl" column="MEM_SCSN_FL"/>
	</resultMap>
	
	<!-- 아이디 중복 체크 -->
	<select id="idDupCheck" parameterType="string" resultType="_int">
		SELECT COUNT(*) FROM MEMBER
		WHERE MEM_ID = #{memberId}
		AND MEM_SCSN_FL = 'N'
	</select>
	
	<!-- 이메일 중복 체크 -->
	<select id="emailDupCheck" parameterType="string" resultType="_int">
		SELECT COUNT(*) FROM MEMBER
		WHERE MEM_EMAIL = #{memberEmail}
		AND MEM_SCSN_FL = 'N'
	</select>
	
	<!-- 닉네임 중복 체크 -->
	<select id="nickNameDupCheck" parameterType="string" resultType="_int">
		SELECT COUNT(*) FROM MEMBER
		WHERE MEM_NICKNAME = #{memberNickname}
		AND MEM_SCSN_FL = 'N'
	</select>
	
	
	
	<!-- 회원가입 -->
	<insert id="signUp" parameterType="Member">
		INSERT INTO MEMBER
		VALUES(SEQ_MNO.NEXTVAL, #{memberName}, #{memberId}, #{memberPwd}, #{memberNickname},
												#{memberEmail}, DEFAULT, #{memberIntrs}, #{memberAddr}, 
												DEFAULT, #{memberType}, DEFAULT)
	</insert>
 	
 	
	
	
	
	
	
	
	
	
	
	
	
</mapper>